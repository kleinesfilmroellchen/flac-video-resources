# Separate file for frame data because this takes up a lot of space

import numpy as np

# The exact compression animated here is for Mega Man Title 2.wav. To reproduce:
# Create a FLAC file with flac version 1.3.4 and compression preset level 1. (This forces fixed LPC, which is easiest to demonstrate)
# Create a comprehensive analysis with `flac -a --residual-text 'Mega Man Title 2.flac'`
# Have fun crashing your editor with a 73MB .ana file.

blocksize = 1152
# We use frame 18 as it has desireable properties:
#   frame=18	offset=56856	bits=26904	blocksize=1152	sample_rate=44100	channels=2	channel_assignment=MID_SIDE
#     subframe=0	wasted_bits=0	type=FIXED	order=2	residual_type=RICE	partition_order=0
#     subframe=1	wasted_bits=0	type=FIXED	order=1	residual_type=RICE	partition_order=0
frame_index = 18
subframe_orders = [2, 1]
subframe_warmups = [
    [1184, 1623],
    [-299]
]
subframe_partition_orders = [10, 9]

mid_residuals = np.array([-988, -807, 1076, 1241, -1217, -2293, 425, 2454, 106, -1481, 1760, 3723, -24, -3513, -1874, 885, 475, -993, -125, 1398, -60, -2557, -1352, 1930, 2066, -170, -701, -17, -252, -320, 453, 342, -457, -52, 661, -159, -1232, -622, 729, 872, 49, 220, 1322, 754, -1354, -1389, 653, 770, -1279, -1732, 302, 1729, 604, -626, 649, 1802, 69, -1459, -658, -358, -930, -282, 473, 258, 181, 239, 488, 1092, 478, -725, -481, -365, -558, 1329, 2135, -1012, -2540, 87, 1123, -944, -1832, -243, 1627, 1465, -349, -619, 377, -603, -1735, -188, 1401, 1219, 787, 358, 248, 724, -222, -1855, -1118, 456, 463, 274, 219, -579, -1244, -1551, -1136, 1048, 2374, 740, -203, 719, -152, -1622, -134, 1643, 563, -872, -463, 156, -224, -382, 573, 1346, 580, -752, -958, -159, 320, -28, -327, 38, 249, -110, -265, -146, 4, 421, 312, -540, -372, 350, -403, -810, 900, 1513, -486, -1397, 170, 1110, 32, -909, -258, 536, 100, -392, 17, 231, 37, 196, -146, -1233, -982, 784, 1285, 33, -128, 1315, 1096, -1299, -1717, 636, 1027, -1531, -2040, 832, 2165, 81, -733, 1778, 2467, -867, -2593, -513, 528, -411, -7, 924, 179, -1329, -2087, -741, 2188, 2634, 51, -1159, -595, -436, -103, -646, -2479, -944, 3175, 2600, -1197, -1212, 965, 844, -443, -742, 351, 1712, 807, -1364, -1107, 283, -230, -918, -307, 42, 174, 842, 863, -37, -518, -172, 381, 496, 23, -421, -321, 4, 148, 102, -23, -217, -345, 26, 661, 492, -446, -726, 116, 834, 131, -1159, -638, 1332, 1540, -32, -600, -364, -581, -395, 49, -57, 165, 441, -156, -178, 421, -289, -753, 862, 1719, 130, -1247, -923, -23, 230, -440, -421, 1096, 809, -2373, -2899, 1273, 3545, 747, -1557, -405, 530, -199, -285, 299, 342, 187, -230, -743, -6, 995, 47, -1450, -1142, 404, 1483, 824, -562, 564, 2753, 861, -2737, -1984, 532, 96, -812, 72, 598, 173, 10, -48, -728, -1891, -1636, 1028, 2631, 896, -573, 41, 64, -402, 181, 205, -576, -122, 841, 526, -366, -728, -307, 584, 785, -86, -807, -605, 320, 1290, 1036, -450, -1044, -173, -96, -1256, -947, 841, 766, -439, 929, 2686, 560, -2305, -1459, 501, 278, -634, -285, 791, 640, -1315, -1996, 266, 1707, 576, 157, 756, -131, -1292, -715, 489, 1021, 670, -354, -864, -283, 310, 289, -18, -223, 21, 501, 726, 670, 71, -993, -1220, -215, 620, 376, -488, -705, 369, 1003, -235, -1262, -279, 883, 551, -107, 354, 1190, 523, -1095, -1015, 261, -137, -1425, -936, 727, 1335, 444, -184, 1028, 1829, -410, -2291, -558, 974, -249, -812, 362, 546, -486, -716, 602, 1720, 71, -2595, -1634, 1581, 1674, -544, -479, 1448, 1668, -255, -1852, -1769, -922, 1, 1112, 1500, 322, -1274, -1653, -336, 1427, 1403, -70, -390, 122, -267, -341, 544, 478, -437, -516, 82, 577, 498, -380, -782, 97, 681, 92, -628, -648, 344, 1540, 1033, -840, -1327, 46, 667, -734, -1703, 10, 1772, 532, -1085, -180, 1119, 1017, 392, -675, -1606, -887, 515, 880, 423, -255, -477, 70, 190, -134, 204, 155, -523, -68, 239, -1111, -1184, 956, 1679, 241, -727, -336, 442, 515, -1, -1, 5, -362, 647, 1675, -497, -2480, -83, 2078, -178, -2186, -421, 1243, 248, -32, 2132, 2351, -1718, -4376, -1480, 1781, 597, -1379, -156, 1692, 952, -422, 121, 429, -1333, -1829, 527, 1730, 384, -372, 40, 93, 46, 11, -268, 12, 627, 512, -138, -763, -632, 818, 1686, 265, -1123, -475, 243, -394, -816, 1, 705, 124, -466, 385, 1063, -179, -1354, -362, 965, 162, -1545, -1204, 971, 1739, 216, -
                                877, -116, 858, 450, -836, -978, 634, 1697, 779, -567, -1032, -642, -61, -603, -1266, 231, 1703, 563, -406, 275, 499, 856, 1493, -171, -2210, -1175, 473, 400, -75, -579, -467, 644, -110, -2114, -777, 1968, 1415, -54, 338, 239, -1005, -1105, 335, 1456, 454, -1710, -1706, 518, 1490, 445, -380, -30, 486, 179, -357, -207, 35, 460, 1657, 1272, -1554, -2494, -147, 1528, 1162, 172, -963, -1151, -277, -219, -569, -341, -739, -830, 887, 1817, 700, -61, -202, -469, 104, 813, 561, 338, -17, -905, -581, 370, -583, -1804, -520, 1605, 1919, 765, -195, -339, -524, -1104, -618, 949, 924, -666, -560, 729, -206, -1540, 489, 2640, 531, -2109, -993, 865, 457, -358, -96, 327, -30, -696, -79, 919, -585, -2371, -298, 2405, 1438, -536, -906, -451, 992, 2124, 405, -1945, -1598, 151, 1047, 558, -972, -1760, -661, 1241, 2609, 1846, -1214, -2545, -232, 1379, 136, -750, 89, 757, 87, -1127, -1132, -5, 433, 422, 765, 271, -473, 316, 1101, 349, -615, -1081, -1080, -272, 572, 877, 668, -340, -287, 1837, 1951, -1103, -2239, -655, 130, 230, 160, -857, -1099, -138, 418, 1295, 1543, -980, -2344, -70, 655, -634, 1235, 3811, 1832, -1928, -2875, -1179, 786, 720, -861, -946, -114, -793, -823, 1377, 1905, -319, -668, 1575, 1854, -601, -2117, -1471, -251, 613, 912, 872, 842, 48, -1367, -1116, 625, 831, -526, -1128, -674, 267, 1296, 1393, 597, -270, -1381, -1974, -625, 1451, 2023, 891, -723, -1245, -339, 382, 218, -89, -472, -519, 307, 721, 127, -226, -173, -153, -119, -644, -904, 557, 1810, 1124, 153, -733, -1989, -1703, 271, 1646, 1846, 855, -770, -917, -104, -190, -4, 389, -391, -237, 774, -575, -1685, 581, 2060, 681, -244, -199, -332, -437, -582, 475, 2112, 16, -3478, -1689, 1791, 852, -690, 254, 489, -416, -713, -423, 543, 782, -768, -975, 845, 1000, -226, -397, -98, 799, 1989, 658, -1751, -1215, 393, 147, -205, 268, 208, -241, -323, 28, 436, -22, -745, -264, 202, -419, -42, 1340, 758, -1097, -665, 1487, 1663, -545, -1861, -741, 659, 489, -361, -815, -888, -191, 1108, 1244, -89, -643, 266, 650, -102, -591, -181, 734, 1168, 93, -1448, -1477, -379, 634, 1114, 177, -844, 824, 2574, 653, -1561, -1075, -833, -1343, -395, 709, 679, -9, -1367, -1186, 1494, 1874, -818, -827, 1595, 1660, -2, -1135, -1573, -924, -133, 67, 1288, 2201, 268, -1812, -1588, -795, -14, 966, 1335, 1341, 537, -1162, -913, 592, -211, -901, 622, 441, -1074, -147, 1180, 785, -39, -1186, -1094, 941, 268, -2555, -1447, 1086, 667, 1012, 2334, 562, -1488, -883, -121, 438, 769, -748, -1631, -324, 204, 445, 1530, 414, -1336, 454, 2244, 440, -1471, -1229, -136, 715, 47, -1018, 152, 1095, -605, -922, 1307, 1407, -603, -889, 37, 33, -517, -464, 582, 882, -1457, -3176, -573, 2405, 1626, 502, 1273, 652, -1516, -1924, -696, 377, 1191, 1464, 835, -259, -1374, -1209, 619, 1129, -809, -1768, -538, 731, 1560, 1784, 474, -921, -981, -908, -999, -235, 1033, 1733, 1111, -410, -1189, -1203, -1118, 267, 1925, 937, -809, -534, -110, -277, 249, 446, 144, 85, -610, -495, 1105, 352, -1231, 1134, 2773, 13, -1246, -507, -1651, -1252, 1132, 521, -755, 158, 247, 122, 352, -1619, -1785, 1544, 856, -1942, 1060, 3816, 692, -1197, -132, -692, -1096, -227, -114, 280, -108, -2283, -1180, 2610, 2097, -617, -411, -102, -698, 448, 1091, -566, -1569, -776, 714, 1694, 541, -1220, -541, 926, 619, -233, -575, -468, 339, 665, -131, -140, 843, 907, -182, -1469, -1863])
side_residuals = np.array([-420, 253, -402, -81, 388, -230, 529, 1325, -178, -585, 581, -119, -826, 110, -104, -668, 308, 520, -172, 87, 16, -542, -134, -38, -568, 111, 896, 142, -601, -228, 147, -136, -408, 67, 694, 572, 236, -40, -598, -416, 627, 686, 30, 40, -107, -628, -439, -58, 69, 607, 982, 611, 170, -216, -511, -275, -70, -309, -281, 119, 286, 9, -345, -198, -29, -510, -529, 247, 307, -41, -8, -656, -1202, -78, 897, 591, 499, 468, -36, -195, -267, -114, 820, 960, 271, 490, 173, -1102, -613, 473, -40, -137, 258, -248, 95, 636, -423, -378, 576, -682, -1191, 640, 586, -335, 643, 376, -867, 112, 449, -841, -157, 730, -444, -609, 156, -472, -601, 378, 498, 329, 393, -16, 71, 610, 225, -268, 2, 199, 87, -30, 100, 490, 188, -495, -205, -162, -1098, -894, 101, 3, -23, 395, -100, -472, -69, -28, 210, 672, 88, -301, 247, 51, -316, 202, 180, -130, 384, 483, 127, 348, 197, -187, 174, -45, -761, -145, 564, 149, 176, 439, -214, -434, 130, 22, -288, 49, -5, -530, -292, 172, -409, -994, -392, 11, -374, 32, 698, 181, -107, 238, -238, -391, 141, -622, -915, 699, 594, -721, 677, 1874, 387, 115, 785, -577, -1272, -174, 0, 153, 961, 402, -126, 477, -160, -1048, -178, 207, -315, 148, 290, -559, -546, -138, -247, 130, 619, 322, 14, 23, 32, 76, -160, -381, 82, 475, 289, 314, 431, -4, -460, -273, 175, 82, -207, 296, 609, -304, -553, 341, 212, -107, 722, 399, -1006, -915, -434, -456, 492, 980, 110, 136, 98, -1165, -756, 468, -593, -1016, 686, 647, -350, 704, 1247, 24, -180, 188, -433, -523, 215, 340, 211, 276, -98, -442, -9, 347, -71, -432, -375, -571, -537, 339, 685, 128, 120, 69, -732, -535, 229, -286, -343, 721, 413, -440, 79, 248, -302, -128, -101, -370, -103, -321, -342, 943, 981, -261, 290, 889, -340, -437, 508, 42, -229, 314, 35, 23, 371, -460, -510, 787, 308, -975, -394, 57, -561, -104, 776, 488, 52, -71, -443, -521, -175, -163, -271, 172, 523, -77, -633, -131, 118, -450, -152, 680, 370, -77, 185, 137, 134, 371, -154, -240, 750, 489, -600, -130, 461, -151, -112, 613, 459, -168, -444, -276, 87, -92, -354, 258, 536, -207, -438, -41, -74, -181, -58, 37, 98, -248, -648, -178, 249, -53, 111, 493, 42, -231, 227, 377, 126, 3, 146, 391, 200, -103, 218, 293, -88, 118, -3, -716, -139, 624, -110, -176, 465, -440, -953, 200, 327, -280, -21, -256, -625, -76, -228, -376, 765, 404, -1227, -484, 782, -56, -232, 1029, 1055, -54, -753, -743, -177, 152, 314, 1120, 1152, -153, -452, 123, -216, -392, 44, -201, -366, -25, -296, -347, 384, 454, 164, 366, 164, -142, 82, -347, -948, -228, 288, -382, -203, 896, 767, -141, -167, -19, -536, -593, 109, 165, -339, -181, 104, -167, -177, 102, 50, 40, 98, -56, 11, -10, -296, 137, 519, -217, -180, 937, 568, -593, -268, 389, 171, -52, 91, 519, 603, -375, -769, 319, 544, -191, 212, 652, 3, -202, 44, -60, -6, -234, -773, -286, 360, -120, -404, 21, 100, -257, -660, -391, 719, 727, -532, -638, -156, -580, -369, 673, 1124, 1268, 584, -914, -765, -8, -872, -472, 1439, 744, -710, 185, 409, -588, -234, -31, -478, 129, -35, -966, 207, 1220, 40, -30, 798, -205, -889, -118, -183, -484, 16, -4, -185, 110, -47, 65, 774, 371, -437, -47, 165, -285, 62, 585,
                                339, 222, 279, -3, 105, 560, 462, 240, 260, -301, -1053, -807, -234, -254, -64, 487, 408, -79, -547, -1197, -1030, 35, -4, -403, 951, 1668, -60, -813, 340, 284, -572, 3, 796, 404, -264, -273, 372, 748, 160, -284, 134, 97, -699, -711, 383, 901, 15, -553, 168, 301, -365, 81, 393, -614, -561, 76, -693, -280, 1301, 185, -1242, -64, -23, -1066, 239, 1114, 48, 75, 48, -797, 173, 686, -663, 234, 1531, -379, -854, 1013, 232, -911, 376, 302, -658, 254, 433, -361, 152, 95, -573, 222, 312, -563, 285, 646, -764, -372, 857, -82, -659, 177, -149, -737, -64, 242, -130, -171, -194, -47, 507, 567, 131, -133, -418, -708, -582, -94, 504, 832, 676, 426, 289, 249, 260, -133, -587, -165, 154, -409, -100, 1038, 615, -528, -208, 137, -695, -867, -39, 109, -345, -386, -80, 318, 428, -123, -353, 181, -59, -802, -21, 1029, 428, 75, 766, 447, -249, 70, 41, -209, 274, 70, -272, 622, 389, -957, -314, 398, -617, -251, 756, -165, -420, 214, -623, -485, 645, -591, -1138, 723, 381, -614, 1043, 881, -1281, -700, -46, -1031, 77, 993, -532, -79, 1238, -247, -482, 1364, 562, -940, -186, -21, -570, 52, 385, 501, 1193, 631, -386, 244, 523, -575, -762, 57, 183, -361, -393, 466, 576, -776, -933, 411, 298, -354, 387, 344, -635, -348, -2, -174, 501, 395, -833, -437, 421, -130, 118, 942, 205, -313, 150, -181, -202, 487, -267, -985, 153, 477, -334, 427, 1309, 200, -763, -429, -359, -683, -599, -73, 655, 634, -224, -33, 866, 103, -815, 334, 803, -711, -812, 454, 187, -315, 418, 670, 476, 574, -56, -507, -19, -521, -1028, 332, 837, -165, 178, 443, -658, -420, 171, -790, -421, 891, 50, -452, 670, 152, -890, -47, 585, 435, 441, -381, -921, -217, -386, -473, 1077, 1032, -709, -510, 250, -278, -7, 579, -77, -558, -654, -736, 94, 591, 54, 288, 403, -550, -197, 895, 452, 41, 180, -515, -654, 134, 423, 1040, 1419, -22, -805, -46, -308, -405, 748, 409, -621, -271, -450, -627, 777, 677, -916, -298, 539, -515, -302, 877, 203, -625, -420, -438, 40, 741, 63, -279, 615, 293, -731, -104, 717, 60, -609, -351, -2, -58, -245, -11, 690, 944, 378, -1, 325, 394, -338, -736, -1, 625, 107, -384, 96, 231, -760, -1081, 103, 620, -291, -621, -232, -475, -494, 235, 467, 381, 242, -593, -631, 595, 454, -338, 377, 251, -980, -140, 858, -152, -130, 616, -332, -386, 817, 178, -515, 143, -479, -1061, 311, 720, 61, 589, 617, -370, -482, -451, -412, 438, 279, -509, 302, 579, -642, -244, 1020, 441, -611, -762, -387, 299, 260, -7, 1000, 936, -1110, -1137, 568, 310, -399, 206, 191, -320, -328, -497, -183, 520, 64, -321, 368, 435, 131, 393, 269, 244, 559, -380, -1154, -36, 538, -17, 427, 847, 46, -624, -804, -376, 670, 425, -603, 14, 431, -758, -566, 718, 187, -562, -4, 45, -144, 413, 289, -246, 179, 294, -252, 135, 581, -112, -358, 134, -149, -307, 468, 353, -502, -238, -34, -687, -208, 640, -6, -242, 184, -827, -1121, 498, 307, -930, 157, 662, -812, -411, 931, 382, 11, 195, -382, 153, 985, -170, -304, 1111, 33, -1534, -115, 851, -240, -279, 509, 372, -6, -384, -545, 140, 449, -120, 77, 906, 694, -338, -619, 117, 233, -619, -283, 942, 489, -512, -126, 133, -108, 126, -63, -267, 211, -413, -1079, 347, 767, -785, -532, 412, -423, -281, 906])

assert mid_residuals.shape[0] == blocksize-subframe_orders[0]
assert side_residuals.shape[0] == blocksize-subframe_orders[1]

subframe_residuals = np.array([mid_residuals, side_residuals])
